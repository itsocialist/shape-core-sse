# Ship APE Core SSE - Environment Configuration
# Copy this file to .env and configure for your environment

# ====================================
# SERVER CONFIGURATION
# ====================================

# Server mode - enables HTTP/SSE transport
SHAPE_SSE_MODE=true

# Port for HTTP server (default: 3000)
PORT=3000

# Node environment
NODE_ENV=production

# ====================================
# SECURITY CONFIGURATION
# ====================================

# Master key for tenant authentication (CHANGE IN PRODUCTION!)
SHIP_APE_MASTER_KEY=your-secure-master-key-here

# Enable database encryption (future feature)
DATABASE_ENCRYPTION=false

# ====================================
# CORS CONFIGURATION
# ====================================

# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=https://claude.ai,https://web.claude.ai,http://localhost:3000

# ====================================
# DATABASE CONFIGURATION
# ====================================

# Path for tenant databases
TENANT_DATA_PATH=./tenant-data

# Master database path for tenant registry
MASTER_DB_PATH=./master.db

# ====================================
# CLAUDE DESKTOP COMPATIBILITY
# ====================================

# Shape Core database path (for stdio mode)
SHAPE_PRO_DB_PATH=~/.shape-core/shape-core.db

# Basic mode database path
MCP_CONTEXT_DB_PATH=~/.mcp-context-memory/context.db

# Enable basic mode (disables Pro features)
SHAPE_BASIC_MODE=false

# ====================================
# DEVELOPMENT CONFIGURATION
# ====================================

# Log level (error, warn, info, debug)
LOG_LEVEL=info
# Set to 'debug' to enable detailed request/response logging
#LOG_LEVEL=debug

# Filesystem adapter base path (used by FilesystemAdapter)
# Set to a directory that exists in your deploy environment (e.g., /app)
FILESYSTEM_ROOT=/app

# Enable development tenant auto-creation
DEV_TENANT_ENABLED=true

# Development tenant API key
DEV_API_KEY=dev-key-12345

# ====================================
# DEPLOYMENT CONFIGURATION
# ====================================

# Railway deployment
# RAILWAY_STATIC_URL=your-app.railway.app

# Render deployment  
# RENDER_EXTERNAL_URL=https://your-app.onrender.com

# Custom domain
# CUSTOM_DOMAIN=your-domain.com

# ====================================
# MONITORING & LOGGING
# ====================================

# Enable request logging
# Enable structured request logging (adds payload summaries)
ENABLE_REQUEST_LOGGING=true

# Require auth for tool discovery (nudges OAuth completion in Claude)
# When true, unauthenticated tools/list returns 401 to trigger OAuth
REQUIRE_AUTH_FOR_TOOLS=true

# Enable performance metrics
ENABLE_METRICS=false

# Sentry DSN (error tracking)
# SENTRY_DSN=https://your-sentry-dsn

# ====================================
# RATE LIMITING
# ====================================

# Max requests per minute per IP
RATE_LIMIT_RPM=100

# Rate limit window in milliseconds
RATE_LIMIT_WINDOW=60000

# ====================================
# SSL/TLS CONFIGURATION
# ====================================

# Enable HTTPS (requires SSL certificates)
ENABLE_HTTPS=false

# SSL certificate paths
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem
